var handleDragDrop=function(n){n.stopPropagation(),n.preventDefault(),pDragboxHint.innerText=pDragboxHint.loadingHint;for(let e=0;e<n.dataTransfer.files.length;++e){let t=n.dataTransfer.files[e];if(console.log("importing file",t.name),!t)return void(pDragboxHint.innerText=pDragboxHint.noTransferHint);if(t.name.indexOf(".osz")===t.name.length-4){let n=new zip.fs.FS;n.filename=t.name,localforage.setItem(t.name,t,(function(e,t){e&&console.error("Error while saving beatmap",n.filename)})),console.log(n),n.root.importBlob(t,(function(){addbeatmap(n,(function(n){pBeatmapList.insertBefore(n,pDragbox),pDragboxHint.innerText=pDragboxHint.defaultHint}))}),(function(n){pDragboxHint.innerText=pDragboxHint.nonValidHint}))}else pDragboxHint.innerText=pDragboxHint.nonOszHint}};pDragbox.ondrop=handleDragDrop,window.addEventListener("dragover",(function(n){(n||event).preventDefault()}),!1),window.addEventListener("drop",(function(n){(n||event).preventDefault()}),!1);